<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éŠæˆ²ç ”ç©¶å®¤</title>
    <style>
        /* ================= æ ¸å¿ƒè¨­å®š ================= */
        :root {
            --bg-color: #1a1815;
            --card-color: #26221d;
            --text-main: #d1c7b7;
            --accent-color: #e6b37e;
            --border-color: #3d352d;
        }

        body { 
            font-family: 'Segoe UI', 'Microsoft JhengHei', sans-serif; 
            background-color: var(--bg-color); 
            color: var(--text-main); 
            margin: 0; padding: 0; 
        }
        
        .container { max-width: 1400px; margin: auto; min-height: 100vh; padding: 20px; }
        
        header { text-align: center; margin-bottom: 20px; border-bottom: 2px solid var(--accent-color); padding-bottom: 20px; }
        h1 { color: var(--accent-color); margin: 0; letter-spacing: 2px; }

        .tabs { display: flex; justify-content: center; margin-bottom: 20px; gap: 15px; }
        .tab-btn {
            padding: 12px 30px; background: #352f29; color: #888; border: 1px solid var(--border-color);
            cursor: pointer; font-size: 1.1em; font-weight: bold; border-radius: 6px; transition: 0.3s;
        }
        .tab-btn.active { background: var(--accent-color); color: #1a1815; border-color: var(--accent-color); }
        .tab-btn:hover { background: #453d35; color: #fff; }

        .game-section { display: none; }
        .game-section.active { display: block; animation: fadeIn 0.3s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* ================= RF ONLINE ================= */
        .rf-calculator { background: var(--card-color); padding: 30px; border-radius: 12px; border: 1px solid var(--border-color); max-width: 800px; margin: auto; margin-bottom: 40px; }
        .grid-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin-bottom: 25px; }
        label { display: block; margin-bottom: 10px; font-weight: bold; color: #a89a8a; }
        select, input { width: 100%; padding: 12px; background: #12100d; border: 1px solid #4d443a; color: white; border-radius: 6px; box-sizing: border-box; }
        button.calc-btn { width: 100%; padding: 15px; background: var(--accent-color); border: none; font-weight: bold; font-size: 1.1em; cursor: pointer; border-radius: 6px; color: #000; }
        .rf-result { margin-top: 25px; padding: 20px; background: #12100d; border: 1px solid var(--accent-color); text-align: center; font-size: 1.4em; display: none; border-radius: 6px; }
        
        .sub-table-container { overflow-x: auto; background: var(--card-color); padding: 15px; border-radius: 12px; }
        table { width: 100%; border-collapse: collapse; min-width: 800px; }
        th, td { border: 1px solid var(--border-color); padding: 12px; text-align: left; vertical-align: middle; }
        th { background: #312a24; color: var(--accent-color); position: sticky; top: 0; z-index: 5; }
        .rf-table td { text-align: center; font-family: monospace; font-size: 1.1em; }
        .rf-table td:first-child { text-align: left; font-family: sans-serif; font-weight: bold; color: var(--accent-color); }

        /* ================= SUBNAUTICA åœ–ä¾‹èˆ‡åœ°åœ– ================= */
        
        /* åœ–ä¾‹å®¹å™¨ */
        .legend-container {
            background: #23272a;
            border: 2px solid #444;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            gap: 15px;
            color: #eee;
        }

        .legend-item {
            display: flex;
            align-items: center;
            font-size: 0.95em;
            line-height: 1.4;
        }

        /* åœ–ç¤ºæ¨£å¼ (åœ“å‡¸è³ªæ„Ÿ) */
        .icon {
            display: inline-block;
            width: 14px;
            height: 14px;
            border-radius: 50%;
            margin-right: 12px;
            flex-shrink: 0;
            box-shadow: 1px 1px 3px rgba(0,0,0,0.5), inset 1px 1px 2px rgba(255,255,255,0.3);
            border: 1px solid rgba(0,0,0,0.5);
        }

        /* é¡è‰²å®šç¾© (ä¾ç…§æ‚¨ä¸Šå‚³çš„åœ–ç‰‡) */
        .i-small-wreck { background-color: #00ffff; }   /* å°å‹æ®˜éª¸ (é’) */
        .i-large-wreck { background-color: #cc0000; }   /* å¤§å‹æ®˜éª¸ (ç´…) */
        .i-pod { background-color: #0080ff; }           /* é€ƒç”Ÿè‰™ (è—) */
        .i-base-aband { background-color: #800080; }    /* å¾·åŠ æ–¯ (ç´«) */
        .i-base-pre { background-color: #b0c4de; }      /* å¤–æ˜Ÿéºè·¡ (ç°è—) */
        
        .i-ent-lost { background-color: #00b050; }      /* å¤±è½ä¹‹æ²³ (ç¶ ) */
        .i-ent-inactive { background-color: #ff6600; }  /* æ­»ç«å±± (æ©˜) */
        .i-ent-active { background-color: #8b0000; }    /* æ´»ç«å±± (æš—ç´…) */
        
        .i-therm { background-color: #ffff00; }         /* ç†±å™´å£ (é»ƒ) */

        /* ç‰¹æ®Šå½¢ç‹€ */
        .i-island { 
            background: transparent; 
            border: 2px solid #00ff00; 
            border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
        }
        
        .i-rad {
            background: repeating-linear-gradient(45deg, #444, #444 2px, #ffd700 2px, #ffd700 4px);
            border: 1px solid #ffd700;
        }

        .i-reaper {
            background: transparent; border: 3px solid #ff4d4d; box-shadow: none; width: 12px; height: 12px;
        }
        .i-ghost {
            background: transparent; border: 3px solid #00ffff; box-shadow: none; width: 12px; height: 12px;
        }

        /* åœ°åœ–è¦–çª— */
        .map-wrapper { 
            width: 100%; height: 75vh; min-height: 600px;
            overflow: hidden; 
            position: relative; 
            background: #0a1419; 
            border: 3px solid #555; 
            border-radius: 12px; 
            cursor: grab;
        }
        .map-wrapper:active { cursor: grabbing; }

        .map-content { position: relative; transform-origin: 0 0; width: fit-content; }
        .map-img { display: block; max-width: none; pointer-events: none; user-select: none; }
        
        .map-controls { text-align: center; color: #888; margin-top: 10px; font-size: 0.9em; }

        /* è¡¨æ ¼æ¨£å¼ */
        .biome-cell { font-weight: bold; color: #fff; position: relative; padding-left: 15px; }
        .biome-cell::before { content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 6px; }
        .b-safe { background: rgba(85, 239, 196, 0.05); } .b-safe .biome-cell::before { background: #55efc4; }
        .b-kelp { background: rgba(0, 184, 148, 0.05); } .b-kelp .biome-cell::before { background: #00b894; }
        .b-red { background: rgba(255, 118, 117, 0.05); } .b-red .biome-cell::before { background: #ff7675; }
        .b-island { background: rgba(253, 203, 110, 0.05); } .b-island .biome-cell::before { background: #fdcb6e; }
        .b-deep { background: rgba(9, 132, 227, 0.05); } .b-deep .biome-cell::before { background: #0984e3; }
        .b-blood { background: rgba(108, 92, 231, 0.05); } .b-blood .biome-cell::before { background: #6c5ce7; }
        .b-lost { background: rgba(129, 236, 236, 0.05); } .b-lost .biome-cell::before { background: #81ecec; }
        .b-lava { background: rgba(225, 112, 85, 0.05); } .b-lava .biome-cell::before { background: #e17055; }
        .b-cave { background: rgba(214, 48, 49, 0.05); } .b-cave .biome-cell::before { background: #d63031; }

        .res-tag { display: inline-block; background: #2d3436; padding: 3px 8px; margin: 2px; border-radius: 4px; border: 1px solid #555; font-size: 0.85em; color: #dfe6e9; }
        .node-tag { font-size: 0.8em; padding: 1px 5px; border: 1px solid; border-radius: 3px; margin-right: 3px; }
        .n-lime { border-color: #ffeaa7; color: #ffeaa7; } .n-sand { border-color: #fab1a0; color: #fab1a0; }
        .n-shale { border-color: #74b9ff; color: #74b9ff; } .n-mag { border-color: #a29bfe; color: #a29bfe; }
        .depth-tag { color: #00d4ff; font-family: monospace; font-weight: bold; }

    </style>
    <script src="https://unpkg.com/@panzoom/panzoom@4.5.1/dist/panzoom.min.js"></script>
</head>
<body>

<div class="container">
    <header>
        <h1>éŠæˆ²æˆ°ç•¥ç ”ç©¶å®¤</h1>
        <div class="subtitle">RF Online Next ï½œ Subnautica æˆ°ç•¥åœ°åœ–</div>
    </header>

    <div class="tabs">
        <div class="tab-btn active" onclick="switchTab('rf')">ğŸ“Š RF Online Next</div>
        <div class="tab-btn" onclick="switchTab('sub')">ğŸ—ºï¸ Subnautica æ·±æµ·è¿·èˆª</div>
    </div>

    <div id="rf-section" class="game-section active">
        <div class="rf-calculator">
            <h2 style="text-align: center; color: var(--accent-color);">ğŸ’ é‘½çŸ³ç¯€é» CP å€¼è¨ˆç®—å™¨</h2>
            <div class="grid-3">
                <div>
                    <label>å¼·åŒ–ç­‰ç´š</label>
                    <select id="rf-level">
                        <option value="0-5">ç­‰ç´š 0 ~ 5</option><option value="6">ç­‰ç´š 6</option><option value="7">ç­‰ç´š 7</option>
                        <option value="8">ç­‰ç´š 8</option><option value="9">ç­‰ç´š 9</option><option value="10">ç­‰ç´š 10</option>
                        <option value="12">ç­‰ç´š 12</option>
                    </select>
                </div>
                <div>
                    <label>ç¯€é»éšç´š</label>
                    <select id="rf-tier">
                        <option value="t1">T1 ç©¶æ¥µ</option><option value="t2">T2 ç©¶æ¥µ</option><option value="t3">T3 ç©¶æ¥µ</option>
                        <option value="t4">T4 ç©¶æ¥µ</option><option value="t5">T5 ç©¶æ¥µ</option>
                    </select>
                </div>
                <div>
                    <label>æŠ•å…¥é‘½çŸ³</label>
                    <input type="number" id="rf-diamonds" placeholder="è¼¸å…¥é‡‘é¡">
                </div>
            </div>
            <button class="calc-btn" onclick="calcRF()">è¨ˆç®—ç²å–æ•ˆç‡</button>
            <div id="rf-result" class="rf-result">
                æ¯ 1 é‘½çŸ³å¯æ›å–ï¼š<span id="rf-cp" style="color: var(--highlight-color); font-weight: bold;">0</span> ç¯€é»
            </div>
        </div>
        
        <h2 style="color: var(--accent-color); border-left: 4px solid var(--accent-color); padding-left: 15px;">ğŸ“Š ç¯€é»æ¶ˆè€—æ•¸æ“šè¡¨</h2>
        <div class="sub-table-container">
            <table class="rf-table">
                <thead><tr><th width="20%">å¼·åŒ–ç­‰ç´š</th><th>T1</th><th>T2</th><th>T3</th><th>T4</th><th>T5</th></tr></thead>
                <tbody>
                    <tr><td>Lv 0-5</td><td>50</td><td>125</td><td>200</td><td>300</td><td>400</td></tr>
                    <tr><td>Lv 6</td><td>75</td><td>225</td><td>300</td><td>450</td><td>600</td></tr>
                    <tr><td>Lv 7</td><td>75</td><td>225</td><td>300</td><td>450</td><td>600</td></tr>
                    <tr><td>Lv 8</td><td>75</td><td>225</td><td>300</td><td>450</td><td>600</td></tr>
                    <tr><td>Lv 9</td><td>100</td><td>300</td><td>400</td><td>600</td><td>800</td></tr>
                    <tr><td>Lv 10</td><td>100</td><td>300</td><td>400</td><td>600</td><td>800</td></tr>
                    <tr><td>Lv 12</td><td>150</td><td>375</td><td>600</td><td>900</td><td>1200</td></tr>
                </tbody>
            </table>
        </div>
    </div>

    <div id="sub-section" class="game-section">
        
        <div class="legend-container">
            <div class="legend-item"><span class="icon i-small-wreck"></span>å°å‹æ®˜éª¸ (Small wrecks)</div>
            <div class="legend-item"><span class="icon i-large-wreck"></span>å¤§å‹æ®˜éª¸ (Large wrecks)</div>
            <div class="legend-item"><span class="icon i-pod"></span>é€ƒç”Ÿè‰™ (Crashed escape pods)</div>
            <div class="legend-item"><span class="icon i-base-aband"></span>å¾·åŠ æ–¯åŸºåœ° (Abandoned bases)</div>
            <div class="legend-item"><span class="icon i-base-pre"></span>å¤–æ˜Ÿéºè·¡ (Precursor bases)</div>
            
            <div class="legend-item"><span class="icon i-ent-lost"></span>å¤±è½ä¹‹æ²³å…¥å£ (Lost River Entrance)</div>
            <div class="legend-item"><span class="icon i-ent-inactive"></span>æ­»ç«å±±å€å…¥å£ (Inactive Lava Zone)</div>
            <div class="legend-item"><span class="icon i-ent-active"></span>æ´»ç«å±±å€å…¥å£ (Active Lava Zone)</div>
            
            <div class="legend-item"><span class="icon i-reaper"></span>æ­»ç¥åˆ©ç¶­å¦ (Reaper Leviathans)</div>
            <div class="legend-item"><span class="icon i-ghost"></span>å¹½éˆåˆ©ç¶­å¦ (Ghost Leviathans)</div>
            
            <div class="legend-item"><span class="icon i-island"></span>æµ®å³¶ / å±±è„ˆå³¶ (Islands)</div>
            <div class="legend-item"><span class="icon i-rad"></span>è¼»å°„å€ (Radiation zone)</div>
            
            <div class="legend-item"><span class="icon i-therm"></span>ç†±èƒ½å™´å£ (Thermal Vents)</div>
        </div>

        <div class="map-wrapper" id="mapWrapper">
            <div id="mapContent" class="map-content">
                <img src="Subnautica_map2.webp" id="mapImg" class="map-img" alt="Subnautica Map">
            </div>
        </div>
        <div class="map-controls">ğŸ‘‡ æç¤ºï¼šä½¿ç”¨æ»‘é¼ æ»¾è¼ªç¸®æ”¾åœ–ç‰‡ï¼ŒæŒ‰ä½å·¦éµæ‹–æ›³æª¢è¦–ç´°ç¯€</div>

        <h2 style="color: var(--accent-color); padding-left: 10px; border-left: 4px solid var(--accent-color); margin-top: 40px;">ğŸ’ å…¨å€åŸŸè³‡æºå®Œå…¨å°ç…§è¡¨</h2>
        <div class="sub-table-container">
            <table>
                <thead>
                    <tr><th width="20%">ç”Ÿç‰©ç¾¤è½</th><th width="10%">æ·±åº¦</th><th width="20%">æ¡é›†ç¯€é»</th><th>ç”¢å‡ºè³‡æº (å…¨æ”¶éŒ„)</th></tr>
                </thead>
                <tbody>
                    <tr class="b-safe"><td class="biome-cell">å®‰å…¨æ·ºç˜</td><td><span class="depth-tag">0-80m</span></td><td><span class="node-tag n-lime">çŸ³ç°å²©</span></td><td><span class="res-tag">é…¸è˜‘è‡</span><span class="res-tag">çŠç‘šç®¡</span><span class="res-tag">å°åœ°çŠç‘š</span><span class="res-tag">æ´ç©´ç¡«ç£º</span><span class="res-tag">æ°£æ³¡å›Š</span><span class="res-tag">éŠ…ç¤¦</span><span class="res-tag">é‡‘å¡Š</span><span class="res-tag">é‰›å¡Š</span><span class="res-tag">å»¢æ–™</span><span class="res-tag">çŸ³è‹±</span><span class="res-tag">é¹½å¡Š</span><span class="res-tag">éˆ¦</span></td></tr>
                    <tr class="b-kelp"><td class="biome-cell">æµ·è—»æ£®æ—</td><td><span class="depth-tag">0-160m</span></td><td><span class="node-tag n-lime">çŸ³ç°å²©</span><span class="node-tag n-sand">ç ‚å²©</span></td><td><span class="res-tag">æµ·è—»ç¨®å­</span><span class="res-tag">æ½›è¡Œè€…ç‰™</span><span class="res-tag">é¹½å¡Š</span><span class="res-tag">çŸ³è‹±</span><span class="res-tag">éŠ…ç¤¦</span><span class="res-tag">éˆ¦</span><span class="res-tag">é‰›å¡Š</span><span class="res-tag">é‡‘å¡Š</span><span class="res-tag">å»¢æ–™</span></td></tr>
                    <tr class="b-red"><td class="biome-cell">ç´…è‰å€ (è‰åŸ)</td><td><span class="depth-tag">50-170m</span></td><td><span class="node-tag n-lime">çŸ³ç°å²©</span><span class="node-tag n-sand">ç ‚å²©</span></td><td><span class="res-tag">å°åœ°çŠç‘š</span><span class="res-tag">é¹½å¡Š</span><span class="res-tag">çŸ³è‹±</span><span class="res-tag">éŠ…ç¤¦</span><span class="res-tag">é‡‘å¡Š</span><span class="res-tag">éŠ€ç¤¦</span><span class="res-tag">é‰›å¡Š</span><span class="res-tag">éˆ¦</span></td></tr>
                    <tr class="b-deep"><td class="biome-cell">æ°´ä¸‹æµ®å³¶</td><td><span class="depth-tag">35-500m</span></td><td><span class="node-tag n-lime">çŸ³ç°å²©</span><span class="node-tag n-shale">é å²©</span></td><td><span class="res-tag">é‘½çŸ³</span><span class="res-tag">é‹°</span><span class="res-tag">é‡‘å¡Š</span><span class="res-tag">éˆ¦</span><span class="res-tag">çŸ³è‹±</span></td></tr>
                    <tr class="b-safe"><td class="biome-cell">ç¨€ç–æš—ç¤</td><td><span class="depth-tag">40-310m</span></td><td><span class="node-tag n-lime">çŸ³ç°å²©</span></td><td><span class="res-tag">é‹°</span><span class="res-tag">éŠ…ç¤¦</span><span class="res-tag">é‰›å¡Š</span><span class="res-tag">çŸ³è‹±</span><span class="res-tag">ç´…å¯¶çŸ³</span><span class="res-tag">é¹½å¡Š</span></td></tr>
                    <tr class="b-island"><td class="biome-cell">æ¼‚æµ®å³¶ (é™¸åœ°)</td><td><span class="depth-tag">Surface</span></td><td><span class="node-tag n-shale">é å²©</span></td><td><span class="res-tag">æ›æœæ¨¹</span><span class="res-tag">ç´«è–¯</span><span class="res-tag">å¤§ç†çŸ³ç“œ</span><span class="res-tag">ç‡ˆç± æœ</span></td></tr>
                    <tr class="b-deep"><td class="biome-cell">è¸æµªè€…ä¹‹è·¯</td><td><span class="depth-tag">170-360m</span></td><td><span class="node-tag n-shale">é å²©</span></td><td><span class="res-tag">é‘½çŸ³</span><span class="res-tag">é‡‘å¡Š</span><span class="res-tag">é‹°</span><span class="res-tag">ç´…å¯¶çŸ³</span><span class="res-tag">éˆ¦</span></td></tr>
                    <tr class="b-deep"><td class="biome-cell">å¤§æš—ç¤</td><td><span class="depth-tag">150-450m</span></td><td><span class="node-tag n-shale">é å²©</span><span class="node-tag n-mag">å‡è† çƒ</span></td><td><span class="res-tag">å‡è† çƒ</span><span class="res-tag">ç´…å¯¶çŸ³</span><span class="res-tag">é‘½çŸ³</span><span class="res-tag">é‡‘å¡Š</span><span class="res-tag">é‹°</span><span class="res-tag">éˆ¾ç¤¦</span></td></tr>
                    <tr class="b-blood"><td class="biome-cell">è¡€æ²¹å€</td><td><span class="depth-tag">150-675m</span></td><td><span class="node-tag n-sand">ç ‚å²©</span><span class="node-tag n-shale">é å²©</span></td><td><span class="res-tag">è¡€æ²¹</span><span class="res-tag">æ·±æµ·è˜‘è‡</span><span class="res-tag">ç£éµç¤¦</span><span class="res-tag">éˆ¾ç¤¦</span><span class="res-tag">é‘½çŸ³</span><span class="res-tag">é‹°</span></td></tr>
                    <tr class="b-deep"><td class="biome-cell">è˜‘è‡æ£®æ—</td><td><span class="depth-tag">75-250m</span></td><td><span class="node-tag n-lime">çŸ³ç°å²©</span><span class="node-tag n-shale">é å²©</span></td><td><span class="res-tag">é‹°</span><span class="res-tag">é‘½çŸ³</span><span class="res-tag">é‡‘å¡Š</span><span class="res-tag">éŠ…ç¤¦</span><span class="res-tag">å°åœ°çŠç‘š</span><span class="res-tag">å‡è† çƒ</span></td></tr>
                    <tr class="b-deep"><td class="biome-cell">åº«ä»€å€</td><td><span class="depth-tag">140-480m</span></td><td><span class="node-tag n-lime">çŸ³ç°å²©</span><span class="node-tag n-shale">é å²©</span></td><td><span class="res-tag">åº«ä»€æ¨£æœ¬</span><span class="res-tag">é‡‘å¡Š</span><span class="res-tag">é‘½çŸ³</span><span class="res-tag">é‹°</span><span class="res-tag">é‰›å¡Š</span></td></tr>
                    <tr class="b-red"><td class="biome-cell">å¢œæ¯€å€</td><td><span class="depth-tag">0-300m</span></td><td><span class="node-tag n-lime">çŸ³ç°å²©</span><span class="node-tag n-sand">ç ‚å²©</span><span class="node-tag n-shale">é å²©</span></td><td><span class="res-tag">å»¢æ–™</span><span class="res-tag">ç‰™é½’</span><span class="res-tag">çŸ³è‹±</span><span class="res-tag">é‰›å¡Š</span><span class="res-tag">é‘½çŸ³</span><span class="res-tag">é‹°</span><span class="res-tag">éŠ…ç¤¦</span><span class="res-tag">éˆ¦</span></td></tr>
                    <tr class="b-island"><td class="biome-cell">äº”æŒ‡å±± (å±±è„ˆå³¶)</td><td><span class="depth-tag">Surface</span></td><td><span class="node-tag n-shale">é å²©</span><span class="node-tag n-mag">ç£éµç¤¦</span></td><td><span class="res-tag">é‘½çŸ³</span><span class="res-tag">é‡‘å¡Š</span><span class="res-tag">é‹°</span><span class="res-tag">æ´ç©´ç¡«ç£º</span></td></tr>
                    <tr class="b-deep"><td class="biome-cell">å±±è„ˆå€</td><td><span class="depth-tag">0-500m</span></td><td><span class="node-tag n-shale">é å²©</span><span class="node-tag n-mag">ç£éµç¤¦</span></td><td><span class="res-tag">ç£éµç¤¦</span><span class="res-tag">é‘½çŸ³</span><span class="res-tag">é‡‘å¡Š</span><span class="res-tag">é‹°</span><span class="res-tag">éˆ¾ç¤¦</span><span class="res-tag">éˆ¦</span></td></tr>
                    <tr class="b-safe"><td class="biome-cell">æ²™ä¸˜å€</td><td><span class="depth-tag">65-400m</span></td><td><span class="node-tag n-lime">çŸ³ç°å²©</span><span class="node-tag n-sand">ç ‚å²©</span></td><td><span class="res-tag">éŠ€ç¤¦</span><span class="res-tag">é‡‘å¡Š</span><span class="res-tag">çŸ³è‹±</span><span class="res-tag">éˆ¦</span><span class="res-tag">éŠ…ç¤¦</span><span class="res-tag">é‰›å¡Š</span><span class="res-tag">é¹½å¡Š</span></td></tr>
                    <tr class="b-kelp"><td class="biome-cell">ç¢éª¨å€</td><td><span class="depth-tag">125-460m</span></td><td><span class="node-tag n-lime">çŸ³ç°å²©</span><span class="node-tag n-sand">ç ‚å²©</span></td><td><span class="res-tag">éˆ¦</span><span class="res-tag">éŠ…ç¤¦</span><span class="res-tag">é‰›å¡Š</span><span class="res-tag">éŠ€ç¤¦</span><span class="res-tag">é‡‘å¡Š</span><span class="res-tag">é‹°</span><span class="res-tag">é‘½çŸ³</span></td></tr>
                    <tr class="b-lost"><td class="biome-cell">å¤±è½ä¹‹æ²³</td><td><span class="depth-tag">550-1000m</span></td><td><span class="node-tag n-shale">é å²©</span><span class="node-tag n-mag">é³ç¤¦</span></td><td><span class="res-tag">é³ç¤¦</span><span class="res-tag">çµæ™¶ç¡«</span><span class="res-tag">å‡è† çƒ</span><span class="res-tag">æ·±æµ·è˜‘è‡</span><span class="res-tag">éˆ¾ç¤¦</span><span class="res-tag">é‘½çŸ³</span><span class="res-tag">é‡‘å¡Š</span></td></tr>
                    <tr class="b-lava"><td class="biome-cell">æ­»ç«å±± (ç†”å²©)</td><td><span class="depth-tag">900-1300m</span></td><td><span class="node-tag n-mag">è—æ™¶çŸ³</span></td><td><span class="res-tag">è—æ™¶çŸ³</span><span class="res-tag">çµæ™¶ç¡«</span><span class="res-tag">é‘½çŸ³</span><span class="res-tag">é‡‘å¡Š</span></td></tr>
                    <tr class="b-lava"><td class="biome-cell">æ´»ç«å±± (æœ€æ·±)</td><td><span class="depth-tag">1200m+</span></td><td><span class="node-tag n-mag">è—æ™¶çŸ³</span></td><td><span class="res-tag">è—æ™¶çŸ³</span><span class="res-tag">çµæ™¶ç¡«</span></td></tr>
                    <tr class="b-cave"><td class="biome-cell">è›‡è˜‘è‡æ´</td><td><span class="depth-tag">180-300m</span></td><td><span class="node-tag n-shale">é å²©</span><span class="node-tag n-mag">ç£éµç¤¦</span></td><td><span class="res-tag">ç£éµç¤¦</span><span class="res-tag">é‘½çŸ³</span><span class="res-tag">é‡‘å¡Š</span><span class="res-tag">é‹°</span><span class="res-tag">é å²©</span></td></tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<script>
    // --- é é¢åˆ‡æ› ---
    function switchTab(game) {
        document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
        document.querySelectorAll('.game-section').forEach(sec => sec.classList.remove('active'));
        if (game === 'rf') {
            document.querySelector('.tab-btn:nth-child(1)').classList.add('active');
            document.getElementById('rf-section').classList.add('active');
        } else {
            document.querySelector('.tab-btn:nth-child(2)').classList.add('active');
            document.getElementById('sub-section').classList.add('active');
            setTimeout(initMapViewer, 100);
        }
    }

    // --- RF è¨ˆç®— ---
    const rfData = {
        "0-5": {t1:50, t2:125, t3:200, t4:300, t5:400},
        "6":   {t1:75, t2:225, t3:300, t4:450, t5:600},
        "7":   {t1:75, t2:225, t3:300, t4:450, t5:600},
        "8":   {t1:75, t2:225, t3:300, t4:450, t5:600},
        "9":   {t1:100, t2:300, t3:400, t4:600, t5:800},
        "10":  {t1:100, t2:300, t3:400, t4:600, t5:800},
        "12":  {t1:150, t2:375, t3:600, t4:900, t5:1200}
    };
    function calcRF() {
        const lv = document.getElementById('rf-level').value;
        const tier = document.getElementById('rf-tier').value;
        const dia = document.getElementById('rf-diamonds').value;
        if (dia > 0) {
            const result = parseFloat((rfData[lv][tier] / dia).toFixed(3));
            document.getElementById('rf-cp').innerText = result;
            document.getElementById('rf-result').style.display = 'block';
        }
    }

    // --- Subnautica ç´”åœ–ç‰‡ç€è¦½å™¨ (ç„¡äº’å‹•æ¨™è¨˜) ---
    const mapContent = document.getElementById('mapContent');
    const mapImg = document.getElementById('mapImg');
    const wrapper = document.getElementById('mapWrapper');
    let panzoomInstance = null;

    function initMapViewer() {
        if (!mapImg.complete || mapImg.naturalWidth === 0) {
            setTimeout(initMapViewer, 50);
            return;
        }
        if (panzoomInstance) panzoomInstance.destroy();

        // åƒ…ä¿ç•™åœ–ç‰‡ç¸®æ”¾åŠŸèƒ½
        const scaleW = wrapper.offsetWidth / mapImg.naturalWidth;
        const scaleH = wrapper.offsetHeight / mapImg.naturalHeight;
        const minScale = Math.max(scaleW, scaleH) * 1.0;

        panzoomInstance = Panzoom(mapContent, {
            maxScale: 10, minScale: minScale, startScale: minScale * 1.2,
            contain: 'outside', cursor: 'grab'
        });
        wrapper.addEventListener('wheel', panzoomInstance.zoomWithWheel);
    }

    window.addEventListener('load', () => {
        setTimeout(() => { if(document.getElementById('sub-section').classList.contains('active')) initMapViewer(); }, 500);
    });
</script>
</body>
</html>


